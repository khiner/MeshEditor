bindings:
  - name: SceneViewUBO
    kind: Uniform
  - name: ViewportThemeUBO
    kind: Uniform
  - name: Image
    kind: Image
  - name: Sampler
    kind: Sampler
  - name: VertexBuffer
    kind: Buffer
  - name: IndexBuffer
    kind: Buffer
  - name: ModelBuffer
    kind: Buffer
  - name: Buffer
    kind: Buffer
  - name: ObjectIdBuffer
    kind: Buffer
  - name: FaceNormalBuffer
    kind: Buffer
  - name: DrawDataBuffer
    kind: Buffer

structs:
  - name: DrawData
    fields:
      - name: VertexSlot
        type: u32
        default: InvalidSlot
      - name: IndexSlot
        type: u32
        default: InvalidSlot
      - name: IndexOffset
        type: u32
      - name: ModelSlot
        type: u32
        default: InvalidSlot
      - name: FirstInstance
        type: u32
      - name: ObjectIdSlot
        type: u32
        default: InvalidSlot
      - name: FaceNormalSlot
        type: u32
        default: InvalidSlot
      - name: FaceIdOffset
        type: u32
      - name: FaceNormalOffset
        type: u32
      - name: VertexCountOrHeadImageSlot
        type: u32
      - name: ElementIdOffset
        type: u32
      - name: ElementStateSlot
        type: u32
        default: InvalidSlot
      - name: VertexOffset
        type: u32
  - name: SceneViewUBO
    binding: SceneViewUBO
    fields:
      - name: View
        type: mat4
        default: 1
      - name: Proj
        type: mat4
        default: 1
      - name: CameraPosition
        type: vec3
      - name: CameraNear
        type: float
      - name: CameraFar
        type: float
      - name: ViewColor
        type: vec3
      - name: AmbientIntensity
        type: float
      - name: DirectionalColor
        type: vec3
      - name: DirectionalIntensity
        type: float
      - name: LightDirection
        type: vec3
      - name: InteractionMode
        type: u32
      - name: EditElement
        type: u32
  - name: ViewportThemeColors # Mirrors Blender: Preferences -> Themes -> 3D Viewport -> ...
    fields:
      - name: Wire # Wire
        type: vec3
        default: [0, 0, 0]
      - name: WireEdit # Wire Edit
        type: vec3
        default: [0, 0, 0]
      - name: ObjectActive # Active Object
        type: vec3
        default: [1, 0.627, 0.157]
      - name: ObjectSelected # Object Selected
        type: vec3
        default: [0.929, 0.341, 0]
      - name: Vertex # Vertex
        type: vec3
        default: [0, 0, 0]
      - name: VertexSelected # Vertex Select
        type: vec3
        default: [1, 0.478, 0]
      - name: EdgeSelectedIncidental # Edge Selection
        type: vec3
        default: [1, 0.6, 0]
      - name: EdgeSelected # Edge Mode Selection
        type: vec3
        default: [1, 0.847, 0]
      - name: FaceSelectedIncidental # Face Selection
        type: vec4
        default: [1, 0.639, 0, 0.2]
      - name: FaceSelected # Face Mode Selection
        type: vec4
        default: [1, 0.718, 0, 0.2]
      - name: ElementActive # Active Vertex/Edge/Face
        type: vec4
        default: [1, 1, 1, 0.2]
      - name: FaceNormal # Face Normal
        type: vec3
        default: [0.133, 0.867, 0.867]
      - name: VertexNormal # Vertex Normal
        type: vec3
        default: [0.137, 0.380, 0.867]
  - name: ViewportTheme
    binding: ViewportThemeUBO
    fields:
      - name: Colors
        type: ViewportThemeColors
      - name: SilhouetteEdgeWidth
        type: u32
        default: 1
  - name: Vertex
    fields:
      - name: Position
        type: vec3
      - name: Normal
        type: vec3
  - name: WorldMatrix
    fields:
      - name: M
        type: mat4
      - name: MInv
        type: mat4
  - name: SelectionNode
    fields:
      - name: Depth
        type: float
      - name: ObjectId
        type: u32
      - name: Next
        type: u32
  - name: SelectionCounters
    fields:
      - name: Count
        type: u32
      - name: Overflow
        type: u32
  - name: ClickHit
    fields:
      - name: Depth
        type: float
      - name: ObjectId
        type: u32
  - name: ClickResult
    fields:
      - name: Count
        type: u32
      - name: Hits
        type: ClickHit[64]
  - name: ClickElementCandidate
    fields:
      - name: ObjectId
        type: u32
      - name: Depth
        type: float
      - name: DistanceSq
        type: u32
  - name: DrawPassPushConstants
    push_constant: true
    fields:
      - name: DrawDataSlot
        type: u32
        default: InvalidSlot
      - name: DrawDataOffset
        type: u32
      - name: SelectionHeadImageSlot
        type: u32
        default: InvalidSlot
      - name: SelectionNodesSlot
        type: u32
        default: InvalidSlot
      - name: SelectionCounterSlot
        type: u32
        default: InvalidSlot
  - name: ClickSelectPushConstants
    push_constant: true
    fields:
      - name: TargetPx
        type: uvec2
      - name: HeadImageIndex
        type: u32
      - name: SelectionNodesIndex
        type: u32
      - name: ClickResultIndex
        type: u32
  - name: ClickSelectElementPushConstants
    push_constant: true
    fields:
      - name: TargetPx
        type: uvec2
      - name: Radius
        type: u32
      - name: HeadImageIndex
        type: u32
      - name: SelectionNodesIndex
        type: u32
      - name: ClickResultIndex
        type: u32
  - name: BoxSelectPushConstants
    push_constant: true
    fields:
      - name: BoxMin
        type: uvec2
      - name: BoxMax
        type: uvec2
      - name: ObjectCount
        type: u32
      - name: HeadImageIndex
        type: u32
      - name: SelectionNodesIndex
        type: u32
      - name: BoxResultIndex
        type: u32
  - name: SilhouetteEdgeDepthObjectPushConstants
    push_constant: true
    fields:
      - name: SilhouetteSamplerIndex
        type: u32
  - name: SilhouetteEdgeColorPushConstants
    push_constant: true
    fields:
      - name: Manipulating
        type: u32
      - name: ObjectSamplerIndex
        type: u32
      - name: ActiveObjectId
        type: u32
